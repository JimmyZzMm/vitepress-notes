# 说说webpack的构建流程?

![img](https://static.vue-js.com/d77fc560-a658-11eb-85f6-6fac77c0c9b3.png)

Webpack 的构建流程可以分为以下几个核心步骤：

1. **初始化配置**：Webpack 启动后，首先会合并从命令行参数和配置文件中读取到的配置信息，初始化得到一个最终的配置对象。
2. **开始编译**：根据上一步得到的配置，初始化一个 `compiler` 对象，这个对象包含了Webpack 环境所有的配置信息，包括 loader、plugin、解析的文件类型等。`compiler` 对象接着开始执行编译工作。
3. **确定入口**：根据配置中的 `entry` 属性，确定应用程序的入口文件。Webpack 支持多入口配置，因此这一步可能是确定一个或多个入口文件。
4. **编译模块**：从入口文件开始，递归地解析每个模块所依赖的模块。Webpack 会通过配置的 loader 对不同类型的文件进行转换处理，将其转换为模块。在这个过程中，Webpack 会分析模块间的依赖关系。
5. **完成模块编译**：经过上一步的处理，Webpack 会得到每个模块转换后的内容及其依赖关系图。
6. **输出资源**：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的 Chunk，再将每个 Chunk 转换成一个单独的文件加入到输出列表，这个过程称为 chunk 的生成。
7. **输出完成**：根据配置确定输出的路径和文件名，将文件内容写入到文件系统中，在这个过程中，Plugin 会执行相关的处理过程，比如优化、压缩、定义环境变量等。